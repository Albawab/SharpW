@using HenE.Aeolus.Blazor.Common.Menubar.Interfaces
@inject IMenubarSevice toolService


@if (MenubarItems != null)
{
    @foreach (var item in MenubarItems)
    {
        if (item is MenubarDialogModel uploadFile)
        {
            <MenubarDialogComponent Dialog="uploadFile" Callback="MenubarCallBack"></MenubarDialogComponent>
        }
        else if (item is MenubarButtonModel buttonModel)
        {
            <MenubarButtonComponent Value="@buttonModel.Titel"></MenubarButtonComponent>
        }
    }
}

@code {
    [Parameter]
    public EventCallback<dynamic> MenubarCallBack { get; set; }

    public dynamic MenubarItems { get; set; }
    protected override void OnInitialized()
    {
        MenubarItems = toolService.GetMenubarItems();
    }
}
