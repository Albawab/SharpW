@page "/"
@using System.Net.Http.Json;
@using System.Threading.Tasks;
@using Client.Data;
@using Newtonsoft.Json
@using System.Net.Http.Headers

@inject HttpClient httpClient


<button type="submit" @onclick="@Post">Post </button>

@code{


    private async void Post()
    {

        WeatherForecast weatherForecast = new WeatherForecast() { Date = DateTime.Now, Summary = "Hoi", TemperatureC = 3, };
        var jsonContent = JsonConvert.SerializeObject(weatherForecast);
        var buffer = System.Text.Encoding.UTF8.GetBytes(jsonContent);
        var byteContent = new ByteArrayContent(buffer);
        byteContent.Headers.ContentType = new MediaTypeHeaderValue("application/json");


        var httpRes = await this.httpClient.PostAsync("http://localhost:6506/WeatherForecast", byteContent);

        var response = httpRes.Content.ReadAsStringAsync().Result;
        var ResponseStatusCode = (int)httpRes.StatusCode;
    }
}
