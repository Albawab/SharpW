@page "/TreeGrid/PagingAPI"

@using Syncfusion.EJ2.Blazor.TreeGrid
@using Syncfusion.EJ2.Blazor.Grids
@using Syncfusion.EJ2.Blazor.Data
@using Syncfusion.EJ2.Blazor.DropDowns
@using Syncfusion.EJ2.Blazor.Buttons
@using Syncfusion.EJ2.Blazor.Inputs
@using Syncfusion.EJ2.Blazor


@*Hidden:Lines*@
@using ej2_blazor_samples
@using ej2_blazor_treedata

@{
    SampleBrowser.CurrentSampleName = "Paging API";
    SampleBrowser.CurrentControlName = "TreeGrid";
    SampleBrowser.CurrentControlCategory = "TreeGrid";
    SampleBrowser.CurrentControl = SampleBrowser.Config.TreeGrid;
    SampleBrowser.ActionDescription = new string[] {
        @"<p>
            This sample demonstrates the usage of paging API in TreeGrid. In this sample, use the properties panel to change the page size mode, page size, page count and current page of the TreeGrid.
        </p>"
    };
    SampleBrowser.Description = new string[] {
        @"<p>Paging allows you to display the contents of the TreeGrid in page segments. The number of items on a page is determined by
        the <code>pageSettings->pageSize</code> property. If no value is specified for the <code>pageSettings->pageSize</code> property, the TreeGrid will display 12 items on a page. By default, paging is disabled. To enable paging,
        set <code>allowPaging</code> property to true.</p>

        <p>In this demo,</p>
        <ul>
          <li>Click the <strong>Allow Paging</strong> check box to enable/disable paging feature.</li>
          <li>Change the value of <strong>Page Size Mode</strong> Dropdown to change <code>pageSettings->pageSizeMode.</code></li>
          <li>Change the value of <strong>Page Size</strong> textbox to change <code>pageSettings->pageSize.</code></li>
          <li>Change the value of <strong>Page Count</strong> textbox to change <code>pageSettings->pageCount.</code></li>
          <li>Change the value of <strong>Current Page</strong> textbox to change
          <code> pageSettings->currentPage.</code></li>
        </ul>"
    };
}
@*End:Hidden*@

    <div class="col-lg-12 control-section">
        <div class="content-wrapper">
            <div class="row">
                <EjsTreeGrid TValue="BusinessObject" ChildMapping="Children" TreeColumnIndex="1" AllowPaging="true">
                    <EjsDataManager Json="@TreeGridData" Adaptor="Adaptors.JsonAdaptor"></EjsDataManager>
                    <TreeGridPageSettings PageSizes="true" PageCount="2" PageSize="10"></TreeGridPageSettings>
                    <TreeGridColumns>
                        <TreeGridColumn Field="TaskId" HeaderText="Task ID" Width="60" IsPrimaryKey="true" TextAlign="TextAlign.Right"></TreeGridColumn>
                        <TreeGridColumn Field="TaskName" HeaderText="Task Name" Width="120"></TreeGridColumn>
                        <TreeGridColumn Field="StartDate" HeaderText=" Start Date" Format="yMd" Type=ColumnType.Date Width="90" TextAlign="TextAlign.Right"></TreeGridColumn>
                        <TreeGridColumn Field="EndDate" HeaderText="End Date" Format="yMd" Type=ColumnType.Date Width="90" TextAlign="TextAlign.Right"></TreeGridColumn>
                        <TreeGridColumn Field="Duration" HeaderText="Duration" Width="80" TextAlign="TextAlign.Right"></TreeGridColumn>
                        <TreeGridColumn Field="Progress" HeaderText="Progress" Width="80"></TreeGridColumn>
                    </TreeGridColumns>
                </EjsTreeGrid>

            </div>
        </div>
    </div>

@*<div class="col-lg-3 property-section">
    <h4 style="margin-top:38px;">Properties</h4>

    <table id="property" style="width: 90%; height: 350px;">
        <tr>
            <td class="left-side" style="padding-right:15px;">Allow Paging</td>
            <td>
                <EjsCheckBox ID="paging" Checked="true"></EjsCheckBox>
            </td>
        </tr>

        <tr>
            <td class="left-side" style="padding-right:15px;">Page Size Mode</td>
            <td>
                <EjsDropDownList ID="sizemode" Index="0" PopupWidth="110px" DataSource="@sizemode" Change="@ModeChange">
                    <DropDownListFieldSettings text="id" value="type"></DropDownListFieldSettings>
                </EjsDropDownList>
            </td>
        </tr>
        <tr>
            <td class="left-side" style="padding-right:15px;">Page Size</td>
            <td>
                <EjsNumericTextBox id="pagesize" value="10" format="##" min="1" max="36"></EjsNumericTextBox>
            </td>
        </tr>
        <tr>
            <td class="left-side" style="padding-right:15px;">Page Count</td>
            <td>
                <EjsNumericTextBox id="pagecount" value="2" format="##" min="1" max="4"></EjsNumericTextBox>
            </td>
        </tr>
        <tr>
            <td class="left-side" style="padding-right:15px;">Current Page</td>
            <td>
                <EjsNumericTextBox id="currentpage" value="1" format="##" min="1" max="17"></EjsNumericTextBox>
            </td>
        </tr>
    </table>
</div>*@

@code{

    public class SizeMode
    {
        public string id { get; set; }

        public string type { get; set; }
    }

    List<SizeMode> sizemode = new List<SizeMode>()
    {
        new SizeMode(){ id= "All", type= "All" },
        new SizeMode(){ id= "Root", type= "Root" },
    };

    public BusinessObject[] TreeGridData { get; set; }

    protected override void OnInitialized()
    {
        this.TreeGridData = TreeData.GetDefaultData().Cast<BusinessObject>().ToArray();
    }

    public void ModeChange(object args)
    {
        
    }
}
